<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muro de la Fama | CODES++</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Filtro SVG oculto para efecto tiza -->
    <svg style="position:absolute;width:0;height:0;">
        <filter id="chalk-texture">
            <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise"/>
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="1.2" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
    </svg>

    <header>
        <h1>ğŸ† MURO DE LA FAMA</h1>
        <p class="subtitle">CODES++ Workshop 2026</p>
    </header>

    <main class="container">
        <div class="card">
            <h2>ğŸš€ Â¿CÃ³mo dejar tu huella aquÃ­?</h2>
            <p>SeguÃ­ los pasos que vimos en el taller:</p>
            <ol>
                <li>HacÃ© un <strong>Fork</strong> de este repositorio.</li>
                <li>EntrÃ¡ a la carpeta <code>estudiantes/</code>.</li>
                <li>CopiÃ¡ el archivo <code>template.html</code>.</li>
                <li>Renombralo con tu nombre (ej: <code>nombre_apellido.html</code>).</li>
                <li>Personalizalo y mandÃ¡ tu <strong>Pull Request</strong>.</li>
            </ol>
            <div style="text-align: center; margin-top: 20px;">
                <a href="https://github.com/codes-unlu/muro-codes" class="btn" target="_blank">ğŸ“Œ Ir al Repositorio</a>
            </div>
        </div>

        <!-- SecciÃ³n de estudiantes â€” se carga dinÃ¡micamente desde estudiantes.json -->
        <div class="card" id="students-section">
            <h3>ğŸ‘¥ Estudiantes en el Muro</h3>
            <p id="students-count">Cargando...</p>
            <div id="students-wall" class="students-grid">
                <!-- AquÃ­ se inyectan las tarjetas desde JS -->
            </div>
            <p id="students-empty" style="display:none; text-align:center; margin-top:1rem; font-size:1.2rem;">
                ğŸ«¥ TodavÃ­a no hay nadie... Â¡SÃ© el primero en dejar tu huella!
            </p>
        </div>
    </main>

    <script>
    (async function() {
        const wall = document.getElementById('students-wall');
        const countEl = document.getElementById('students-count');
        const emptyEl = document.getElementById('students-empty');

        try {
            const res = await fetch('estudiantes.json');
            if (!res.ok) throw new Error('No se pudo cargar el JSON');
            const students = await res.json();

            if (!students.length) {
                countEl.textContent = '';
                emptyEl.style.display = 'block';
                return;
            }

            countEl.textContent = students.length === 1
                ? '1 estudiante dejÃ³ su huella:'
                : students.length + ' estudiantes dejaron su huella:';

            students.forEach((s, i) => {
                const card = document.createElement('a');
                card.href = 'estudiantes/' + s.archivo;
                card.className = 'student-mini';
                card.style.animationDelay = (i * 0.08) + 's';

                card.innerHTML = `
                    <img src="${s.avatar || 'https://github.com/identicons/' + s.nombre + '.png'}"
                         alt="${s.nombre}" class="student-mini-avatar"
                         onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(s.nombre)}&background=2a4a3a&color=e8e4d9&size=80'">
                    <span class="student-mini-name">${s.nombre}</span>
                    <span class="student-mini-sub">${s.subtitulo || ''}</span>
                `;
                wall.appendChild(card);
            });

        } catch(e) {
            countEl.textContent = '';
            emptyEl.style.display = 'block';
            console.warn('Error cargando estudiantes:', e);
        }
    })();
    </script>

</body>
</html>